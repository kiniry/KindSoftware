<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
<head>

<title>KindSoftware: Automatic Derivation of Kernel Locks for OpenBSD</title>

<link rel="stylesheet" type="text/css" media="screen" href="/stylesheets/kind.css" />

<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1" />
<meta http-equiv="Content-Language" content="en-us" />
<meta name="ROBOTS" content="ALL" />
<meta name="Copyright" content="Copyright (c) 2004-2007 Joseph Kiniry, KindSoftware LLC" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="MSSmartTagsPreventParsing" content="true" />

<meta name="description" content="formal methods in software engineering" />
<meta name="keywords" content="formal methods, kindsoftware" />

<link rel="help" href="https://www.kindsoftware.com/about/" title="Site Information" />

<meta name="Rating" content="General" />
<meta name="doc-class" content="Living Document" />

</head>

<body onload="window.defaultStatus='KindSoftware'" id="sectionthree">

<script type="text/javascript">
// you can also factor this into a library
  function include(id, path) {
    fetch(path)
    .then(response => {
      return response.text()
    })
    .then(data => {
      document.getElementById(id).innerHTML = data;
    });
  }
</script>

<div id="theory">
<div id="wrapper">

<!-- Kindsoftware Logo in Header -->

<div id="logo_header"></div>
<script>
include("logo_header", "/xml/logo_header.xml")
</script>

<div id="wrapper2">

<!-- Top Level Menu -->

<div id="top_level_menu"></div>
<script>
include("top_level_menu", "/xml/top_level_menu.xml")
</script>

<!-- End Top Level Menu -->

<!-- Main page on left and sidebar on right -->
<div id="pagebody">

<!-- Sidebar -->
<div id="sidebar">

<!-- Nature Photo -->
<img src="/images/aster.jpg" border="0" width="180" height="100" alt="Documents" name="aster" />

<!-- Sub menu within sidebar -->
<!-- All secondary menus are hidden except the ones under "subnavon" -->
<div id="subnav">
<ul>
<div id="overview"></div>
<script>
include("overview", "/documents/xml/overview.xml")
</script>
<div id="mech_theory"></div>
<script>
include("mech_theory", "/documents/xml/mech_theory.xml")
</script>
<div id="news"></div>
<script>
include("news", "/documents/xml/news.xml")
</script>
  <li id="subnavon">
<div id="proposals"></div>
<script>
include("proposals", "/documents/xml/proposals.xml")
</script>
<div id="os_and_compilers"></div>
<script>
include("os_and_compilers", "/documents/proposals/xml/os_and_compilers.xml")
</script>
  </li>
<div id="published"></div>
<script>
include("published", "/documents/xml/published.xml")
</script>
<div id="reports"></div>
<script>
include("reports", "/documents/xml/reports.xml")
</script>
<div id="talks"></div>
<script>
include("talks", "/documents/xml/talks.xml")
</script>
<div id="tutorials"></div>
<script>
include("tutorials", "/documents/xml/tutorials.xml")
</script>
<div id="whitepapers"></div>
<script>
include("whitepapers", "/documents/xml/whitepapers.xml")
</script>
</ul>
</div>
<!-- End submenus -->

</div>
<!-- End Sidebar -->

<!-- Main content on left side -->
<div id="maincontent">

<h2>Automatic Derivation of Kernel Locks for OpenBSD</h2>

<ul>
  <li> <strong>Supervisor</strong> 
    <a href="/about/people/jrk.html">Dr. Joseph Kiniry</a></li>
      
  <li> <strong>Subject Area</strong> Software Engineering </li>
      
  <li> <strong>Pre-requisites</strong> Very good knowledge of C </li>

  <li> <strong>Co-requisites (things you must learn along the
    way)</strong> Good knowledge of UNIX (generally) and OpenBSD
    (specifically), concurrency and threads, constraint anlysis,
    program specification, static program checking, and OS-level
    systems programming </li>
      
  <li> <strong>Subject Coverage</strong> Programming Languages,
      Compilers, Concurrency, Static Analysis </li>

  <li> <strong>Project Type</strong> Design and Implementation </li>
      
  <li> <strong>Hardware</strong> Any computer running OpenBSD </li>
</ul>

<h3>Description</h3>

<p> <a href="https://www.openbsd.org/">OpenBSD</a> is widely regarded
as the world's most secure operating system.  It represents the
combined effort of hundreds of dedicated individuals, most of whom
work in their spare time for free, over nearly a decade. </p>

<p> OpenBSD developers try very hard to write code that is
well-designed, clean, maintainable, but above all, <em>secure</em>.  A
number of techniques are used for such, but most of them are
relatively <em>ad hoc</em> when compared to the kind of program
development that that <a href="/">KindSoftware
research group</a> regularly participates in. </p>

<p> Multi-processor/-core support is a relatively recent addition to
OpenBSD.  Given OpenBSD's focus on correctness above all else, a
fairly simple single-lock-based design was used, similar to that
adopted by other FLOSS UNIXen, to implement this new feature. </p>

<p> Unfortunately, while such and implementation is simple, it does
not exhibit high performance, it is difficult to maintain and reason
about, and can easily exhibit unnecessary deadlock. </p>

<p> The goal of this project is to investigate the possibility of
adding <em>atomicity</em> specifications to the OpenBSD kernel in such
a way as to automatically generate minimal correct lock covers for
kernel code. </p>

<h3>Mandatory Goals</h3>

<ol>

  <li> Gain familiarity with OpenBSD. </li>
      
  <li> Gain familiarity with SMT support in OpenBSD. </li>

  <li> Gain familiarity with reasoning frameworks for concurrency and
    atomicity. </li>

  <li> Design and develop SMT support in OpenBSD, including
    concurrency and atomicity annotations, lock specifications,
    etc. </li>

  <li> Coauthor, submit, and publish a paper on this work. </li>
      
</ol>
  
<h3>Discretionary Goals</h3>

<ol>

  <li> Design and develop a lock cover static analysis tool to
    determine minimal lock sets and covers for correct,
    high-performance kernel locks. </li>

  <li> Release the framework and tools to the world under an
      appropriate FLOSS license, hopefully so that it will be
      incorporated into, and used by, OpenBSD. </li>

</ol>

<!-- <h3>Exceptional Goals</h3> -->

<!-- <ol> -->

<!--   <li> Analyse a several critical OpenBSD components with the new -->
<!--       tool. </li> -->

<!-- </ol> -->

<h3>Sources of Information and Preparatory Reading</h3>

<ol>
  <li> <a href="https://www.openbsd.org/">OpenBSD</a> </li>
  <li> <a href="https://openbsd.org/smp.html">SMT in OpenBSD</a> </li>
  <li> See the following OpenBSD source files:
    <ul>
      <li> <code>src/sys/sys/kern_lock.c</code> </li>
      <li> <code>src/sys/sys/mplock.c</code> </li>
      <li> <code>src/sys/sys/lock.h</code> </li>
      <li> <code>src/sys/kern/sched_bsd.c</code> </li>
      <li> <code>src/sys/kern/mplock.c</code> </li>
      <li> <code>src/sys/kern/mplock.c</code> </li>
    </ul>
  </li>
</ol>

</div>
</div>
<!-- End main content -->

<!-- Footer -->
<div id="footer"></div>
<script>
include("footer", "/xml/footer.xml")
</script>
</div>
<!-- End footer -->

</div>
</div>
</body>
</html>
